# 乳腺癌诊断预测分析

## 项目概述
本项目旨在使用威斯康星乳腺癌诊断数据集构建一个二元分类模型，以预测乳腺癌的诊断结果（恶性或良性）。数据集包含从乳腺细针穿刺（FNA）数字化图像中提取的30个特征。本项目通过数据预处理、特征工程和机器学习技术实现准确的预测。

## 数据集
- **来源**：威斯康星乳腺癌诊断数据集
- **特征**：30个数值特征（例如半径、纹理、周长、面积等）
- **目标**：诊断结果（M = 恶性，B = 良性）
- **样本量**：569个样本

## 使用的技术
- **编程语言**：Python
- **库**：
  - Pandas：数据处理与分析
  - Scikit-learn：机器学习算法与预处理
  - XGBoost：梯度提升用于优化模型
  - Plotly & Matplotlib：数据可视化
  - SMOTE：处理类别不平衡
- **环境**：Jupyter Notebook（Python 3.10.17）

## 项目结构
项目根据Jupyter Notebook（`5281.ipynb`）中的内容分为以下主要部分：

### 1. 数据处理
#### 1.1 数据加载与预览
- 从CSV文件加载数据集。
- 使用交互式表格展示数据样本。
- 进行基本统计分析。

#### 1.2 数据预处理
- 删除无关列（例如ID）和处理缺失值。
- 将诊断标签转换为数值：M（恶性）→ 1，B（良性）→ 0。
- 使用分层抽样划分训练集和测试集。
- 使用SMOTE（合成少数类过采样技术）解决类别不平衡问题。
- 对特征进行标准化以统一尺度。

#### 1.3 数据可视化
- 诊断结果分布饼图。
- 按诊断分组的特征分布箱线图。
- 关键特征的联合分布矩阵图。
- 特征相关性热力图。
- 递归特征消除（RFE）可视化。

#### 1.4 特征工程
- 使用Z分数、IQR和隔离森林方法检测异常值。
- 过滤低方差特征。
- 删除高相关性特征以减少多重共线性。
- 应用RFE进行特征选择并可视化结果。

#### 1.5 模型构建与评估
- **基线模型**：逻辑回归结合SMOTE。
- **优化模型**：XGBoost结合RandomizedSearchCV进行超参数调优、提前停止和阈值优化。
- **评估指标**：准确率、召回率、F1分数。
- **分析**：ROC曲线和精确率-召回率曲线用于评估模型性能。

### 2. 关键结果
- 基线模型与优化模型的性能对比。
- 特征重要性分析，突出关键预测因子。
- 降维效果评估。

## 环境设置与安装
1. **克隆仓库**：
   ```bash
   git clone MLgroup/chenghui/README.md at master · chghui/MLgroup
   ```
   
2. **安装依赖**：
   确保已安装Python 3.10.17，创建虚拟环境并安装所需包：
   ```bash
   python -m venv macenv
   source macenv/bin/activate  # Windows系统：macenv\Scripts\activate
   ```
   
   3.**运行Notebook**：
   启动Jupyter Notebook并打开`5281.ipynb`：
   
   ```bash
   jupyter notebook
   ```

## 使用方法
- 在Jupyter Notebook中打开`5281.ipynb`，按顺序执行代码单元。
- 确保数据集CSV文件位于正确目录，或在Notebook中更新文件路径。
- Notebook包含可视化内容和模型输出，便于分析。

## 结果
- 优化的XGBoost模型在召回率和F1分数上优于基线逻辑回归模型，这对医学诊断至关重要。
- 通过RFE和特征重要性分析，识别出关键特征包括平均半径、纹理和凹陷度。
- 可视化结果提供了数据分布、特征相关性和模型性能的深入洞察。

## 未来改进
- 探索其他模型（例如随机森林、神经网络）。
- 实现交叉验证以获得更稳健的性能评估。
- 研究高级特征工程技术（例如多项式特征）。
- 将模型部署为API以实现实时预测。

## 许可证
本项目采用MIT许可证，详情请见`LICENSE`文件。

## 联系方式
如有问题或希望贡献代码，请联系 黄云翔：2023217472@mail.hfut.edu.cn